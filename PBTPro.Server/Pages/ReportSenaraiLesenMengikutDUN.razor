@page "/senaraireportmengikutdun"
@attribute [Authorize]


@using DevExpress.Blazor.Reporting
@using DevExpress.XtraReports.UI;
@using DevExpress.XtraReports.Parameters;
@using DevExpress.DataAccess.ConnectionParameters;
@using DevExpress.XtraReports.Expressions;
@using Parameter = DevExpress.XtraReports.Parameters.Parameter;

@using PBTPro.DAL.Models.PayLoads
@inject SearchService _SearchService
<link rel="stylesheet" href="_content/DevExpress.Blazor.Reporting.Viewer/css/dx-blazor-reporting-components.bs5.css">

<DxReportViewer @ref="reportViewer" Report="@Report">
</DxReportViewer>

@code {
    DxReportViewer? reportViewer { get; set; }
    XtraReport? Report { get; set; }


    protected override async Task OnInitializedAsync()
    {
        List<general_search_premis_detail> dtLesenData = await _SearchService.GetListPremisDetails();

        //Bind to the report
        Report = new Reports.SenaraiPremisLesen();

        //Set the report data source
        Report.DataSource = dtLesenData;

    }

}
